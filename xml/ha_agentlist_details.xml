<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd" [
<!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
]>
<!-- 
  toms 2009-01-27: Please keep this comment!

  ATTENTION: If this file has to be translated, remove the lang
             attribute in the chapter start-tag.  

  The resources for Heartbeat are generated with the following steps:
  
  1. Create a temporary directory on a HA node:
  # mkdir -p /tmp/ha/{xml,db}
  
  2. Extract the meta data in XML form:
     (Sometimes this hangs as one script is broken. You have to 
      take the remaining scripts into the for loop.)
  # cd /usr/lib/ocf/resource.d/heartbeat/
  # for i in *; do \
  #  echo $i; \
  #  OCF_ROOT=/usr/lib/ocf/ ./$i meta-data > /tmp/ha/xml/$i.xml; \ 
  # done 
  
  3. Validate it:
  # cd /tmp/ha
  ## Old path:
  # cp /usr/share/heartbeat/ra-api-1.dtd /tmp/ha/xml/
  ## New path:
  # cp /usr/share/resource-agents/ra-api-1.dtd /tmp/ha/xml/
  # for i in xml/*.xml; do \
  #   echo "*** $i" \
  #   xmllint -timing -valid -noout -nonet $i \
  # done
  
  4. Copy it to your computer:
  # cd /tmp/
  # scp -r root@NODE_NAME:/tmp/ha .
  
  5. Transform it to DocBook refentry:
     (assuming you have installed the suse-xsl-stylesheets package...)
  #  cd /tmp/ha
  #  for i in xml/*.xml; do \
  #   j=${i##*/}
  #   echo "*** $j"
  #   xsltproc -output db/$j /usr/share/xml/docbook/stylesheet/suse/ocf2refentry/ocfs2refentry.xsl $i \
  # done
  
  6. Create a XML file with all the agents:
  # cat db/*.xml > agents.xml
  
  7. Remove all refentry elements in this file and import
     the agents.xml from the last step.
     - oXygen: Use 'Document' -> 'File' -> 'Insert File'
     
  8. Save and commit this file.
-->
<chapter id="app.agents.details" lang="en">
 <title>HA OCF Agents</title>
 <para>
  All OCF agents require several parameters to be set when they are started.
  The following overview shows how to manually operate these agents. The
  data that is available in this appendix is directly taken from the
  <literal>meta-data</literal> invocation of the respective RA. Find all
  these agents in <filename>/usr/lib/ocf/resource.d/heartbeat/</filename>.
 </para>
 <para>
  When configuring an RA, omit the <literal>OCF_RESKEY_</literal> prefix to
  the parameter name. Parameters that are in square brackets may be omitted
  in the configuration.
 </para>
 <remark>taroth 2012-06-08: todo - http://doccomments.provo.novell.com/admin/viewcomment/19984#</remark>
<!-- Paste here: -->


</chapter>
