<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd" [
 <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
 <!ENTITY % entities SYSTEM "entity-decl.ent">
 %entities;
]>
<!--Fates #310991, 312336-->
<!--taroth 2011-09-19: information sources: 
  /usr/share/doc/packages/rear/README
  /usr/share/doc/packages/rear-SUSE
  http://sourceforge.net/projects/rear/files/documentation/

-->

<chapter id="cha.ha.rear">
 <title>Disaster Recovery with &rear;</title>
  <abstract>
    <para>
      &rear; (Relax and Recover) is an administrator tool-set for creating
      disaster recovery images. The disaster recovery information can
      either be stored via the network, or locally on hard disks, USB 
      devices, DVD/CD-R, tape or similar. The backup is retrieved from
      a network file system (NFS). The result is a bootable image that 
      can be booted via PXE, or from DVD/CD, and USB media.
    </para>
    <para>Keep in mind, &rear; needs to be configured and tested
      <emphasis>before</emphasis> any disaster happens. &rear; will not
      safe you, if you disaster already took place.
    </para>
  </abstract>
  
  <sect1 id="sec.ha.rear.terminology">
    <title>Terminology</title>
    <variablelist>
      <varlistentry>
        <term>Disaster</term>
        <listitem>
          <para>Unexpected interruption of critical infrastructure induced
            by nature, humans, hardware failure, or software bugs.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Disaster Recovery</term>
        <listitem>
          <para>According to &rear;'s homepage, it is <quote>the process
          by which a business function is restored to the normal, steady
          state after a disaster.</quote></para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Disaster Recover Plan</term>
        <listitem>
          <para>A strategy to recover from a disaster with minimum
            impact on IT infrastructure.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <!-- Some more terms needs to be added... -->
  </sect1>
  
  <sect1 id="sec.ha.rear.concept">
    <title>Conceptual Overview</title>
    <para>&rear; is shipped in two packages:</para>
    <itemizedlist>
      <listitem>
        <para><systemitem class="resource">rear</systemitem></para>
      </listitem>
      <listitem>
        <para><systemitem class="resource">rear-SUSE</systemitem></para>
      </listitem>
    </itemizedlist>
    
    <para>The package <systemitem
      class="resource">rear-SUSE</systemitem> is a variant of &rear; which
     incorporates &ay; to recreate your basic system. You should try and
     test both for your systems. Every IT infrastructure is different, in one case
     <systemitem class="resource">rear</systemitem> is enough, in other 
      situations <systemitem class="resource">rear-SUSE</systemitem> is
      a better fit. Regardless of the method, both are used in the following way:</para>
    <orderedlist>
      <listitem>
       <formalpara>
         <title>Preparation</title>
         <para>Makes a bootable CD and backups system and user data</para>
       </formalpara>
      </listitem>
      <listitem>
        <formalpara>
          <title>Testing</title>
          <para>Test the recovery process thoroughly and the backup on
            the same hardware than your main system, before any disaster happens. </para>
        </formalpara>
      </listitem>
      <listitem>
        <formalpara>
          <title>Rescue</title>
          <para>Boot from the rescue CD and restore your system from
            your backup</para>
        </formalpara>
      </listitem>
    </orderedlist>
    
    <para>To prepare the rescue media, the following details are being
      executed:</para>
    
    <orderedlist>
      <title>Preparing Rescue Media</title>
      <listitem>
        <para>Gather system information</para>
      </listitem>
      <listitem>
        <para>Store disk layout (partitioning, filesystems, LVM, RAID,
          and boot loader)</para>
      </listitem>
      <listitem>
        <para>Clone the system (Kernel drivers and modules, device
          driver configuration, network configuration, system software
          and tools)</para>
      </listitem>
      <listitem>
        <para>Backup system and user data</para>
      </listitem>
      <listitem>
        <para>Create bootable rescue CD with system configuration</para>
      </listitem>
    </orderedlist>
    
    <para>When a disaster occurered, the recovery process takes these
      actions:</para>
    
    <orderedlist>
      <listitem>
        <para>Boot from the rescue media</para>
      </listitem>
      <listitem>
        <para>Restore the disk layout (partitions, RAID configurations,
          LVM, file systems)</para>
      </listitem>
      <listitem>
        <para>Restore system and user data.</para>
      </listitem>
      <listitem>
        <para>Restore boot loader</para>
      </listitem>
      <listitem>
        <para>Reboot system</para>
      </listitem>
    </orderedlist>
  </sect1>
  
  <sect1 id="sec.ha.rear.drp">
    <title>Preparing for the Worst Scenarios: Disaster Recovery
      Plans</title>
    <para><emphasis>Before</emphasis> the worst scenario happens, take
      actions to avoid it with a <emphasis>disaster recovery
      plan</emphasis>. Maybe you have already some plan in place, but
      here are the general overview:</para>
    <itemizedlist>
      <listitem>
        <formalpara>
          <title>Risk Analysis</title>
          <para>Conduct a thorough risk analysis of your infrastructure.
          List all the possible threads and evaluate how serious they
          are. Determine how likely these threads are and prioritize them. It is
          recommended to use a simple categorization: probability and
          impact. </para>
        </formalpara>
        <para>For example, a company located in Japan could rate an
          earthqake as medium probability </para>
      </listitem>
      <listitem>
        <formalpara>
          <title>Budget Planing</title>
          <para>The outcome of the analysis is an
            overview, which risks can be toleralted and and which are
            critical for your business. Ask yourself, how you can 
            minimize risks and how much will it cost. Depending on how
            big your company is, spent 2 to 15 percent of the overall IT
            budget for disaster recovery.
          </para>
        </formalpara>
      </listitem>
      <listitem>
        <formalpara>
          <title>Disaster Recovery Plan Development</title>
          <para>Make checklists, test procedure, establish priorities,
            and inventory your IT infrastructure. Define how to deal
            when some services in your infrastructure fail. </para>
        </formalpara>
      </listitem>
      <listitem>
        <formalpara>
          <title>Test, Test, Test</title>
          <para>After defining an elaborate plan, test it. Test it at
            least once a year. Use the same testing hardware as your
            main IT infrastructure.</para>
        </formalpara>
      </listitem>
    </itemizedlist>
  </sect1>


  <sect1 id="sec.ha.rear.more">
    <title>For More Information</title>
    <itemizedlist>
      <listitem>
        <para><ulink url="http://rear.sourceforge.net"/></para>
      </listitem>
      <listitem>
        <para><filename>/usr/share/doc/packages/rear/README</filename></para>
      </listitem>
      <listitem>
        <para><filename>/usr/share/doc/packages/rear-SUSE/README</filename></para>
      </listitem>
    </itemizedlist>
  </sect1>
</chapter>
